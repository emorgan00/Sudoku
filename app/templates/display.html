{% extends 'base.html' %}
{% block content %}

	<script src='static/sudoku_editor.js'></script>

	<div style='width: 540px'>
		<div id='sudoku_info'>
			Variant: {{ variant }}<br>
			{% if difficulty == -1 %}
				<div style='color: red'>Unsolvable</div>
			{% elif difficulty == 0 %}
				<div style='color: yellow'>Unsolvable with known techniques, unique solution exists</div>
			{% else %}
				<div>Difficulty Score: {{ difficulty }}</div>
			{% endif %}
		</div>
		<form class='sudoku_form'>
			{{ puzzle|safe }}
		</form>
		<div style='margin-top: 50px;'>
			<form action='/pdf' target='_blank' method='POST' onkeypress='return event.keyCode != 13;'>
				<input type='button' value='Export as Code...' onclick='toggle_code();' style='float: left;'>
				<input type='submit' value='Export as PDF...' style='float: left; margin-left: 15px;'>
				<input type='button' id='pencil_toggle' value='Numbers' onclick='toggle_pencil();' style='float: right;'>
				<input type='hidden' name='variant' value='{{ variant }}'>
				<input type='hidden' name='difficulty' value='{{ difficulty }}'>
				<input type='hidden' name='code' value='{{ code }}'>
			</form>
		</div> <br>
		<div class='sudoku_info' id='code' style='margin-top: 50px; display: none; text-align: left;'>
			{{ code }}
		</div>
	</div>

	<script type='text/javascript'>

		function toggle_code() {
			var code = document.getElementById('code');
			if (code.style.display === 'none') {
				code.style.display = 'block';
			} else {
				code.style.display = 'none';
			}
		}

	</script>

{% endblock %}